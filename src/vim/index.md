# Vim

Vim 常见命令

## 模式切换

| 命令 | 描述 |
|------|------|
| <b>`i`</b> | 进入插入模式（当前光标前） |
| `a` | 进入插入模式（当前光标后） |
| `I` | 进入插入模式（行首） |
| `A` | 进入插入模式（行尾） |
| `o` | 在当前行下方新建一行并进入插入模式 |
| `O` | 在当前行上方新建一行并进入插入模式 |
| `v` | 进入可视模式 |
| `V` | 进入行可视模式 |
| `Ctrl+v` | 进入块可视模式 |
| `Esc` 或 `Ctrl+[` | 返回普通模式 |

`总结：i 进入插入模式，ESC 返回普通模式，记住这几个即可`

## 光标移动

### 基本移动
| 命令 | 描述 |
|------|------|
| `h` `j` `k` `l` | 左、下、上、右移动 |
| `w` | 移动到下一个单词开头 |
| `b` | 移动到上一个单词开头 |
| `e` | 移动到单词结尾 |
| `0` | 移动到行首 |
| `^` | 移动到行首第一个非空字符 |
| `$` | 移动到行尾 |
| `gg` | 移动到文件开头 |
| `G` | 移动到文件末尾 |
| `:n` 或 `nG` | 移动到第 n 行 |

`总结：w 移动到下一个单词开头 gg 移动到文件开头 G 移动到文件末尾 ^ $ 分别移动到行首和行尾 :n 移动到第n行，记住这几个即可`

### 屏幕滚动
| 命令 | 描述 |
|------|------|
| `Ctrl+f` | 向下翻页 |
| `Ctrl+b` | 向上翻页 |
| `Ctrl+d` | 向下翻半页 |
| `Ctrl+u` | 向上翻半页 |
| `zz` | 当前行居中 |
| `zt` | 当前行置顶 |
| `zb` | 当前行置底 |

## 编辑操作

### 删除
| 命令 | 描述 |
|------|------|
| `x` | 删除当前字符 |
| `dw` | 删除一个单词 |
| `dd` | 删除当前行 |
| `d$` 或 `D` | 删除到行尾 |
| `d0` | 删除到行首 |
| `dG` | 删除到文件末尾 |
| `dgg` | 删除到文件开头 |

`dd 删除当前行 dw 删除一个单词`

### 复制与粘贴
| 命令 | 描述 |
|------|------|
| `yy` | 复制当前行 |
| `yw` | 复制一个单词 |
| `y$` | 复制到行尾 |
| `p` | 在光标后粘贴 |
| `P` | 在光标前粘贴 |

`yy 复制当前行 p 在光标后粘贴`

### 撤销与重做
| 命令 | 描述 |
|------|------|
| `u` | 撤销 |
| `Ctrl+r` | 重做 |
| `U` | 撤销整行更改 |

`u 撤销`

## 搜索与替换

### 搜索
| 命令 | 描述 |
|------|------|
| `/pattern` | 向前搜索模式 |
| `?pattern` | 向后搜索模式 |
| `n` | 下一个匹配项 |
| `N` | 上一个匹配项 |
| `*` | 搜索当前光标下的单词 |
| `#` | 向后搜索当前光标下的单词 |

`/username 搜索 username`

### 替换
| 命令 | 描述 |
|------|------|
| `:s/old/new` | 替换当前行的第一个 old 为 new |
| `:s/old/new/g` | 替换当前行的所有 old 为 new |
| `:%s/old/new/g` | 替换全文的 old 为 new |
| `:%s/old/new/gc` | 替换全文，每次替换前确认 |

## 文件操作

| 命令 | 描述 |
|------|------|
| `:w` | 保存文件 |
| `:wq` 或 `:x` 或 `ZZ` | 保存并退出 |
| `:q` | 退出 |
| `:q!` | 强制退出（不保存） |
| `:w filename` | 另存为 |
| `:e filename` | 打开另一个文件 |
| `:bn` | 下一个缓冲区 |
| `:bp` | 上一个缓冲区 |
| `:bd` | 关闭当前缓冲区 |

`:w 保存 :wq 保存并退出 :q 退出 :q! 强制退出不保存`

## 窗口与分屏

| 命令 | 描述 |
|------|------|
| `:sp` | 水平分割窗口 |
| `:vsp` | 垂直分割窗口 |
| `Ctrl+w h/j/k/l` | 在窗口间移动 |
| `Ctrl+w w` | 循环切换窗口 |
| `Ctrl+w =` | 使所有窗口等宽等高 |
| `Ctrl+w +` | 增加窗口高度 |
| `Ctrl+w -` | 减少窗口高度 |
| `Ctrl+w q` | 关闭当前窗口 |

## 实用技巧

### 缩进
| 命令 | 描述 |
|------|------|
| `>>` | 向右缩进当前行 |
| `<<` | 向左缩进当前行 |
| `=` | 自动缩进当前行 |

### 宏录制
| 命令 | 描述 |
|------|------|
| `q[a-z]` | 开始录制宏到指定寄存器 |
| `q` | 停止录制 |
| `@[a-z]` | 执行指定寄存器的宏 |
| `@@` | 重复上次执行的宏 |

### 标记
| 命令 | 描述 |
|------|------|
| `m[a-z]` | 设置标记 |
| `` `[a-z]` | 跳转到标记 |
| `` `.` | 跳转到最后修改的位置 |
| `` ` `` | 在标记位置和当前位置间跳转 |

## Vim 配置相关

### 查看帮助
```vim
:help command     " 查看命令帮助
:helpgrep pattern " 搜索帮助文档
```

### 显示行号
```vim
:set number       " 显示行号
:set nonumber     " 隐藏行号
:set relativenumber " 相对行号
```

## 快速参考

```vim
" 常用组合
ciw    " 修改当前单词（change inner word）
ct)    " 修改直到右括号
dt"    " 删除直到双引号

" 数字前缀
3dd    " 删除3行
5j     " 向下移动5行
2p     " 粘贴2次
```

这些是 Vim 最常用的命令，建议先从基础的光标移动和编辑命令开始练习，逐渐掌握更高级的功能。