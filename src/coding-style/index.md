# 编程风格

## 块级作用域

1. let 取代 var
2. 全局常量和线程安全

   长远来看，JavaScript 可能会有多线程的实现（比如 Intel 公司的 River Trail 那一类的项目），这时 let 表示的变量，只应出现在单线程运行的代码中，不能是多线程共享的，这样有利于保证线程安全。

## 字符串

1. 静态字符串一律使用单引号或反引号，不使用双引号。动态字符串使用反引号。

## 解构赋值

1. 使用数组成员对变量赋值时，优先使用解构赋值。
2. 函数的参数如果是对象的成员，优先使用解构赋值。
3. 如果函数返回多个值，优先使用对象的解构赋值，而不是数组的解构赋值。这样便于以后添加返回值，以及更改返回值的顺序。

## 对象

1. 单行定义的对象，最后一个成员不以逗号结尾。多行定义的对象，最后一个成员以逗号结尾。
2. 对象尽量静态化，一旦定义，就不得随意添加新的属性。如果添加属性不可避免，要使用 Object.assign 方法。
3. 如果对象的属性名是动态的，可以在创造对象的时候，使用属性表达式定义。

```js
// good
const obj = {
  id: 5,
  name: "San Francisco",
  [getKey("enabled")]: true
};
```

4. 对象的属性和方法，尽量采用简洁表达法，这样易于描述和书写。

## 数组

1. 使用扩展运算符（...）拷贝数组。
2. 使用 Array.from 方法，将类似数组的对象转为数组。

## 函数

1. 立即执行函数可以写成箭头函数的形式。
2. 那些使用匿名函数当作参数的场合，尽量用箭头函数代替。因为这样更简洁，而且绑定了 this。
3. 箭头函数取代 Function.prototype.bind，不应再用 self/\_this/that 绑定 this。
4. 简单的、单行的、不会复用的函数，建议采用箭头函数。如果函数体较为复杂，行数较多，还是应该采用传统的函数写法。
5. 所有配置项都应该集中在一个对象，放在最后一个参数，布尔值最好不要直接作为参数，因为代码语义会很差，也不利于将来增加其他配置。
6. 不要在函数体内使用 arguments 变量，使用 rest 运算符（...）代替。因为 rest 运算符显式表明你想要获取参数，而且 arguments 是一个类似数组的对象，而 rest 运算符可以提供一个真正的数组。
7. 使用默认值语法设置函数参数的默认值。

## Map 结构

1. 注意区分 Object 和 Map，只有模拟现实世界的实体对象时，才使用 Object。如果只是需要 key: value 的数据结构，使用 Map 结构。因 Map 有内建的遍历机制。

## Class

1. 总是用 Class，取代需要 prototype 的操作。因为 Class 的写法更简洁，更易于理解。
2. 使用 extends 实现继承，因为这样更简单，不会有破坏 instanceof 运算的危险。

## 模块

1. ES6 模块语法是 JavaScript 模块的标准写法，坚持使用这种写法，取代 Node.js 的 CommonJS 语法。
2. 如果模块只有一个输出值，就使用 export default，如果模块有多个输出值，除非其中某个输出值特别重要，否则建议不要使用 export default，即多个输出值如果是平等关系，export default 与普通的 export 就不要同时使用。
3. 如果模块默认输出一个函数，函数名的首字母应该小写，表示这是一个工具方法。
4. 如果模块默认输出一个对象，对象名的首字母应该大写，表示这是一个配置值对象。

## ESLint

1. ESLint 是一个语法规则和代码风格的检查工具，可以用来保证写出语法正确、风格统一的代码。

```js
npm install --save-dev eslint
npm install --save-dev eslint-config-airbnb
npm install --save-dev eslint-plugin-import eslint-plugin-jsx-a11y eslint-plugin-react
```

````

.eslintrc
```json
{
  "extends": "eslint-config-airbnb"
}
````
