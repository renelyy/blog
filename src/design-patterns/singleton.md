# 单例模式

## 定义

单例模式是一种设计模式，它确保一个类只有一个实例，并提供一个全局访问点来获取该实例。

## 优点

1. 单例模式可以避免全局变量污染，提高代码的可维护性和可读性。
2. 单例模式可以减少内存开销，避免重复创建对象。
3. 单例模式可以实现全局状态管理，方便在多个地方共享数据。

## 缺点

1. 单例模式可能会导致代码难以测试，因为全局状态难以模拟和隔离。
2. 单例模式可能会导致代码难以扩展，因为全局状态难以修改和扩展。
3. 单例模式可能会导致代码难以维护，因为全局状态难以追踪和调试。

## 使用场景

1. 当一个类只需要一个实例时，可以使用单例模式。例如，数据库连接池、配置文件读取器等。
2. 当一个类需要全局访问点时，可以使用单例模式。例如，全局状态管理器、日志记录器等。
3. 当一个类需要避免重复创建对象时，可以使用单例模式。例如，线程池、缓存等。

## 单例模式 UML

```
+-----------------+
|    Singleton    |
+-----------------+
| instance: null  |
+-----------------+
| getInstance()   |
+-----------------+
```

## 代码示例

```javascript
class Singleton {
  constructor() {
    if (!Singleton.instance) {
      Singleton.instance = this;
    }
    return Singleton.instance;
  }
}

const instance1 = new Singleton();
const instance2 = new Singleton();

console.log(instance1 === instance2); // true
```

## 总结

单例模式是一种常用的设计模式，它可以帮助我们实现全局唯一实例的创建和管理。在实际开发中，我们可以根据具体的需求和场景选择合适的单例模式实现方式。
